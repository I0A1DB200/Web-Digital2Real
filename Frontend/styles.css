:root{
  --bg:#121a23; --panel:#1b2633; --text:#fff; --muted:#b8c4d2;
  --red:#e53935; --accent:#b4e300; --border:#0003;
}

/* Base */
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);
     font-family:system-ui,Segoe UI,Roboto,Arial}
a,a:visited{color:var(--text);text-decoration:none}
a:hover{opacity:.9}
.container{max-width:1200px;margin:0 auto;padding:0 20px}

/* Topbar */
.topbar{background:#0f1620;border-bottom:1px solid var(--border)}
.topbar-wrap{display:flex;align-items:center;gap:20px;padding:10px 20px}
.brand{font-weight:800;cursor:pointer;transition:opacity .3s}
.brand:hover{opacity:.85}
.brand-accent{color:var(--accent)}
.menu{display:flex;gap:10px}
.menu-link{padding:8px 12px;border-radius:8px}
.menu-link:hover{background:var(--panel)}
.menu-link.active{background:var(--red)}
.search{margin-left:auto}
.search input{background:var(--panel);border:1px solid #2b3a4d;color:var(--text);
  padding:8px 10px;border-radius:6px}

/* Pages */
.page{padding:36px 0}
.hidden{display:none}

/* Hero */
.hero{padding:48px 0;min-height:calc(100vh - 180px);display:flex;align-items:center}
.hero-grid{display:grid;grid-template-columns:1.3fr 1fr;gap:40px;align-items:center}
.hero-media img{width:100%;max-width:900px;height:auto;border-radius:12px;display:block;
  box-shadow:0 0 40px rgba(0,183,255,.25),0 0 120px rgba(0,183,255,.15);
  transition:transform .6s ease, box-shadow .6s ease;
}
.hero-media img:hover{transform:scale(1.02);
  box-shadow:0 0 50px rgba(0,200,255,.4),0 0 150px rgba(0,200,255,.25)}
.hero-text h1{margin:.2rem 0 .4rem;font-size:2.6rem;font-weight:800}
.hero-text h2{margin:0 0 .8rem;color:#9fc3ff;font-size:1.25rem}
.hero-text p{color:#d0d6e1;line-height:1.6;font-size:1.05rem}

/* Page head */
.page-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}

/* Reel (carrusel horizontal) */
.reel {
  display:grid;grid-auto-flow:column;grid-auto-columns:minmax(300px,340px);
  gap:14px;overflow-x:auto;padding:10px 6px 16px;
  scroll-snap-type:x mandatory;scrollbar-width:thin;
  border:1px solid var(--border);border-radius:12px;
  background:linear-gradient(180deg,#15202b 0%,#121a23 100%);
}
.reel::-webkit-scrollbar{height:8px}
.reel::-webkit-scrollbar-thumb{background:#2b3a4d;border-radius:8px}
.reel-controls{display:flex;gap:8px}
.reel-btn{background:var(--panel);border:1px solid var(--border);color:var(--text);
  width:36px;height:36px;border-radius:8px;cursor:pointer}
.reel-btn:hover{background:#223245}

.machine-card{scroll-snap-align:start;background:#1b2633;border:1px solid #223245;
  border-radius:12px;overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;
  box-shadow:0 6px 18px rgba(0,0,0,.25)}
.machine-head{background:rgba(255,255,255,0.04);padding:8px 10px;
  border-bottom:1px solid #223245;display:flex;align-items:center;gap:8px;font-weight:700}
.machine-step{display:inline-flex;align-items:center;justify-content:center;
  width:26px;height:18px;border-radius:4px;background:#d33;color:#fff;font-size:.75rem}
.machine-title{font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.machine-thumb{aspect-ratio:6/9;position:relative;background:#0b1520}
.machine-thumb img,.machine-thumb video{width:100%;height:100%;object-fit:cover;display:block}
.machine-thumb .play{position:absolute;right:10px;bottom:10px;background:#e53935;
  color:#fff;border:none;border-radius:8px;padding:6px 10px;cursor:pointer;font-weight:700}
.machine-thumb .play:hover{filter:brightness(1.1)}
.machine-foot{padding:8px 10px;color:var(--muted);border-top:1px solid #223245;font-size:.85rem;
  display:flex;align-items:center;gap:8px}
.machine-card:hover{transform:translateY(-1px);transition:transform .2s ease}

/* Posts */
.posts-grid{display:grid;grid-template-columns:repeat(3,minmax(260px,1fr));gap:18px}
@media(max-width:1100px){.posts-grid{grid-template-columns:repeat(2,minmax(240px,1fr))}}
@media(max-width:700px){.posts-grid{grid-template-columns:1fr}}
.post-card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px}
.post-card h3{margin:0 0 6px}
.post-card p{margin:0;color:var(--muted);line-height:1.5}

/* Footer */
.site-footer{background:#0f1620;border-top:1px solid var(--border);margin-top:40px}
.footer-wrap{display:flex;justify-content:space-between;align-items:center;
  padding:14px 0;color:var(--muted)}

/* Modal vÃ­deos */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);
  display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px}
.modal{background:var(--panel);border:1px solid var(--border);border-radius:12px;
  width:min(980px,96vw);box-shadow:0 10px 30px rgba(0,0,0,.5);overflow:hidden}
.modal-header{display:flex;justify-content:space-between;align-items:center;
  padding:10px 14px;border-bottom:1px solid var(--border)}
.modal-close{background:transparent;border:none;color:var(--muted);font-size:18px;cursor:pointer}
.modal-content{padding:0}
.modal-content iframe,.modal-content video{width:100%;aspect-ratio:16/9;display:block;border:0}

/* ðŸ”§ Fix: ocultar modal al inicio */
.modal-backdrop.hidden { display: none !important; }

/* --- AVATAR ASISTENTE FLOTANTE --- */

.assistant-avatar {
  position: fixed;
  bottom: 25px;
  right: 25px;
  width: 110px;
  height: 110px;
  border-radius: 50%;
  overflow: hidden;
  background: #0a1623;
  box-shadow: 0 0 25px rgba(0, 200, 255, 0.55);
  cursor: pointer;
  z-index: 5000;
  transition: transform 0.3s ease;
}

.assistant-avatar:hover {
  transform: scale(1.1);
}

.assistant-avatar video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Responsive */
@media(max-width:980px){
  .hero-grid{grid-template-columns:1fr}
  .hero-text{text-align:center}
  .search{display:none}
}

/* === PANEL DRIVE / SCADA SINAMICS V90 === */

.drive-panel {
  display: grid;
  grid-template-columns: 1.1fr 1.1fr 1.2fr;
  gap: 24px;
  margin-top: 32px;
  margin-bottom: 40px;
}

/* Columnas */
.dp-column {
  background: #1b2633;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.dp-title {
  text-align: center;
  margin-top: 0;
  margin-bottom: 12px;
  font-size: 1.1rem;
}

/* Caja interna */
.dp-box {
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.09);
  padding: 10px 14px 14px;
  margin-bottom: 14px;
  background: radial-gradient(circle at top, #223347 0, #111823 100%);
}

.dp-box-title {
  margin: 0 0 10px;
  text-align: center;
  font-size: 0.95rem;
  letter-spacing: 0.04em;
}

/* DRIVE COLUMN */
.dp-drive-image {
  display: flex;
  justify-content: center;
  margin: 8px 0 18px;
}
.dp-drive-rect {
  width: 80px;
  height: 180px;
  border-radius: 6px;
  background: linear-gradient(180deg, #555 0%, #222 40%, #111 100%);
  box-shadow: 0 0 14px rgba(0,0,0,0.7);
}

/* Motor icono simple */
.dp-motor-icon {
  display: flex;
  justify-content: center;
}
.dp-motor-body {
  width: 100px;
  height: 60px;
  border-radius: 8px;
  border: 3px solid #76ff6b;
  position: relative;
}
.dp-motor-body::before {
  content: "";
  position: absolute;
  left: -18px;
  top: 18px;
  width: 16px;
  height: 24px;
  border-radius: 4px;
  border: 3px solid #76ff6b;
}
.dp-motor-body::after {
  content: "";
  position: absolute;
  right: -18px;
  top: 18px;
  width: 16px;
  height: 24px;
  border-radius: 4px;
  border: 3px solid #76ff6b;
}

.dp-rpm-display {
  margin-top: 14px;
  text-align: center;
  font-size: 0.9rem;
  color: #cfe9ff;
}

/* COMANDOS */
.dp-row {
  display: flex;
  gap: 10px;
  margin-bottom: 8px;
  justify-content: center;
}

.dp-btn {
  flex: 1;
  border: none;
  border-radius: 6px;
  padding: 8px 10px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  color: #fff;
  box-shadow: 0 3px 8px rgba(0,0,0,0.35);
  transition: transform 0.1s ease, box-shadow 0.1s ease, filter 0.1s ease;
}

.dp-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

.dp-btn:active {
  transform: translateY(1px);
  box-shadow: none;
}

.dp-btn-green { background: #1f8a3a; }
.dp-btn-red   { background: #c62828; }
.dp-btn-blue  { background: #1976d2; }
.dp-btn-grey  { background: #616161; }

.dp-subtitle {
  text-align: center;
  font-size: 0.8rem;
  margin: 4px 0 4px;
  opacity: 0.9;
}

/* Toggle FW/REV */
.dp-toggle {
  flex: 1;
  background: #3c3c3c;
  border-radius: 6px;
  border: 2px solid #777;
  cursor: pointer;
  color: #fff;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-align: center;
  padding: 6px 0;
}
.dp-toggle-label {
  display: block;
}

/* ESTADOS */
.dp-states {
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 20px;
  row-gap: 4px;
}

.dp-state-row {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
}

.dp-led {
  width: 12px;
  height: 12px;
  border-radius: 3px;
  background: #304050;
  border: 1px solid #101820;
  box-shadow: inset 0 0 3px rgba(0,0,0,0.6);
}

.dp-led-on {
  background: #46ff45;
  box-shadow: 0 0 6px #46ff45;
}

.dp-led-red {
  background: #501010;
}

.dp-led-red.dp-led-on {
  background: #ff3d3d;
  box-shadow: 0 0 6px #ff3d3d;
}

/* COLUMNA SETPOINT / GAUGE */
.dp-setpoint-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.dp-slider-block {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.dp-slider-title {
  font-size: 0.8rem;
  margin-bottom: 6px;
}

/* Slider vertical */
#setpoint-slider {
  writing-mode: bt-lr; /* Edge */
  -webkit-appearance: slider-vertical; /* Chrome */
  width: 40px;
  height: 160px;
  margin: 4px 0;
}
#setpoint-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  background: #ff5252;
  width: 16px;
  height: 10px;
  border-radius: 4px;
  box-shadow: 0 0 4px rgba(0,0,0,0.7);
}
#setpoint-slider::-webkit-slider-runnable-track {
  background: #15263a;
  border-radius: 6px;
}

.dp-slider-value {
  margin-top: 4px;
  font-size: 0.8rem;
}

/* Velocidad actual barra */
.dp-slider-indicator {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.dp-speed-bar {
  width: 40px;
  height: 160px;
  border-radius: 6px;
  background: #15263a;
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(255,255,255,0.07);
}
.dp-speed-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 0%;
  background: linear-gradient(180deg, #00e4ff 0%, #0050ff 100%);
  transition: height 0.15s linear;
}
.dp-speed-value {
  margin-top: 4px;
  font-size: 0.8rem;
}

/* GAUGE */
.dp-gauge-box {
  display: flex;
  justify-content: center;
  align-items: center;
}

.dp-gauge {
  width: 210px;
  height: 210px;
  border-radius: 50%;
  border: 6px solid #222f3f;
  background: radial-gradient(circle at 30% 20%, #3b4c62 0, #111822 70%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.dp-gauge-inner {
  position: relative;
  width: 75%;
  height: 75%;
  border-radius: 50%;
  background: #111822;
  overflow: hidden;
}

/* Fondo arco */
.dp-gauge-inner::before {
  content: "";
  position: absolute;
  inset: 15%;
  border-radius: 50%;
  border: 14px solid transparent;
  border-top-color: #4caf50;
  border-left-color: #ffeb3b;
  border-right-color: #f44336;
  transform: rotate(200deg);
}

/* Aguja */
.dp-gauge-needle {
  position: absolute;
  width: 2px;
  height: 45%;
  left: 50%;
  bottom: 50%;
  transform-origin: 50% 100%;
  background: #fffbf1;
  box-shadow: 0 0 8px rgba(255,255,255,0.7);
  transform: rotate(-120deg);
  transition: transform 0.15s linear;
}

.dp-gauge-center {
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #ccd4e0;
  border: 3px solid #111822;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
}

.dp-gauge-label {
  margin-top: 6px;
  font-size: 0.8rem;
  text-align: center;
  line-height: 1.2;
}

/* Responsive bÃ¡sico */
@media (max-width: 1000px) {
  .drive-panel {
    grid-template-columns: 1fr;
  }
}
